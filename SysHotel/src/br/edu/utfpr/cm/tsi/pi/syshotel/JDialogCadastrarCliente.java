/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package br.edu.utfpr.cm.tsi.pi.syshotel;

import br.edu.utfpr.cm.pi.conexao.TransactionUtil;
import br.edu.utfpr.cm.pi.dao.DaoCliente;
import br.edu.utfpr.cm.pi.dao.DaoMunicipio;
import br.edu.utfpr.cm.pi.modal.Cliente;
import br.edu.utfpr.cm.pi.modal.Endereco;
import br.edu.utfpr.cm.pi.modal.Estado;
import br.edu.utfpr.cm.pi.modal.Municipio;
import br.edu.utfpr.cm.pi.modal.Telefone;
import br.edu.utfpr.cm.tsi.pi.sessao.Data;
import br.edu.utfpr.cm.tsi.pi.syshotel.Util.Util;
import java.awt.Color;
import java.util.ArrayList;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JDialog;
import javax.swing.JOptionPane;

/**
 *
 * @author JoaoPaulo
 */
public class JDialogCadastrarCliente extends javax.swing.JDialog {

    /**
     * Creates new form NewJDialogCadCliente
     */
    public JDialogCadastrarCliente(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroupSexo = new javax.swing.ButtonGroup();
        jTabbedPaneDadosEndereco = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        jLabelCadNome = new javax.swing.JLabel();
        jLabelRG = new javax.swing.JLabel();
        jLabelCPF = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabelDataDeNasc = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        tfNome = new javax.swing.JTextField();
        ftfRg = new javax.swing.JFormattedTextField();
        ftfDataNasc = new javax.swing.JFormattedTextField();
        ftfCpf = new javax.swing.JFormattedTextField();
        rbMasculino = new javax.swing.JRadioButton();
        rbFeminino = new javax.swing.JRadioButton();
        jlCodigo = new javax.swing.JLabel();
        tfCodigo = new javax.swing.JTextField();
        jButton2 = new javax.swing.JButton();
        jPanelTipoLog = new javax.swing.JPanel();
        jLabelLogradouro = new javax.swing.JLabel();
        jLabelNúmero = new javax.swing.JLabel();
        jLabelBairro = new javax.swing.JLabel();
        jLabelMunicipio = new javax.swing.JLabel();
        jLabelUF = new javax.swing.JLabel();
        tfLogradouro = new javax.swing.JTextField();
        tfBairro = new javax.swing.JTextField();
        jSeparator1 = new javax.swing.JSeparator();
        jLabelResidencial = new javax.swing.JLabel();
        jLabelCelular = new javax.swing.JLabel();
        jLabelEmail = new javax.swing.JLabel();
        ftfNunResidencial = new javax.swing.JFormattedTextField();
        ftfNumCelular = new javax.swing.JFormattedTextField();
        tfEmail = new javax.swing.JTextField();
        tfNumero = new javax.swing.JTextField();
        jLabelTipoLogra = new javax.swing.JLabel();
        cbLogradouro = new javax.swing.JComboBox();
        jLabelIconContato = new javax.swing.JLabel();
        jButtonSearchUF = new javax.swing.JButton();
        jLabelcomp = new javax.swing.JLabel();
        tfComplemento = new javax.swing.JTextField();
        jLabelCep = new javax.swing.JLabel();
        ftfCep = new javax.swing.JFormattedTextField();
        cbMunicipio = new javax.swing.JComboBox();
        jButton1 = new javax.swing.JButton();
        cbEstado = new javax.swing.JComboBox();
        jLabel1CadastroDeCliente = new javax.swing.JLabel();
        jButtonDeletar = new javax.swing.JButton();
        jButtonClear = new javax.swing.JButton();
        btSalvar = new javax.swing.JButton();
        jButtonClose = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setMinimumSize(new java.awt.Dimension(740, 505));
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jTabbedPaneDadosEndereco.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jTabbedPaneDadosEndereco.setPreferredSize(new java.awt.Dimension(740, 410));

        jPanel1.setMaximumSize(new java.awt.Dimension(690, 200));
        jPanel1.setMinimumSize(new java.awt.Dimension(690, 200));
        jPanel1.setName(""); // NOI18N
        jPanel1.setPreferredSize(new java.awt.Dimension(690, 200));
        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabelCadNome.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelCadNome.setText("Nome:");
        jPanel1.add(jLabelCadNome, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 60, -1, -1));

        jLabelRG.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelRG.setText("RG:");
        jPanel1.add(jLabelRG, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 120, -1, -1));

        jLabelCPF.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelCPF.setText("CPF:");
        jPanel1.add(jLabelCPF, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 110, -1, -1));

        jLabel5.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabel5.setText("Sexo:");
        jPanel1.add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 150, -1, -1));

        jLabelDataDeNasc.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelDataDeNasc.setText("Data de Nasc:");
        jPanel1.add(jLabelDataDeNasc, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 160, -1, -1));

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/clientes.png"))); // NOI18N
        jPanel1.add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(570, 20, 120, 150));

        tfNome.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jPanel1.add(tfNome, new org.netbeans.lib.awtextra.AbsoluteConstraints(100, 60, 400, 25));

        try {
            ftfRg.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##.###.###-#")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfRg.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jPanel1.add(ftfRg, new org.netbeans.lib.awtextra.AbsoluteConstraints(100, 110, 140, 25));

        try {
            ftfDataNasc.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfDataNasc.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        ftfDataNasc.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        ftfDataNasc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ftfDataNascActionPerformed(evt);
            }
        });
        jPanel1.add(ftfDataNasc, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 150, 120, 25));

        try {
            ftfCpf.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("###.###.###-##")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfCpf.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        ftfCpf.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfCpfFocusLost(evt);
            }
        });
        jPanel1.add(ftfCpf, new org.netbeans.lib.awtextra.AbsoluteConstraints(330, 110, 180, 25));

        buttonGroupSexo.add(rbMasculino);
        rbMasculino.setText("Masculino");
        jPanel1.add(rbMasculino, new org.netbeans.lib.awtextra.AbsoluteConstraints(100, 150, -1, -1));

        buttonGroupSexo.add(rbFeminino);
        rbFeminino.setSelected(true);
        rbFeminino.setText("Feminino");
        rbFeminino.setDebugGraphicsOptions(javax.swing.DebugGraphics.BUFFERED_OPTION);
        jPanel1.add(rbFeminino, new org.netbeans.lib.awtextra.AbsoluteConstraints(100, 190, -1, -1));

        jlCodigo.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jlCodigo.setText("Codigo:");
        jPanel1.add(jlCodigo, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 20, -1, -1));

        tfCodigo.setEditable(false);
        jPanel1.add(tfCodigo, new org.netbeans.lib.awtextra.AbsoluteConstraints(100, 20, 160, 25));

        jButton2.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jButton2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/Add.png"))); // NOI18N
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton2, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 20, 30, 25));

        jTabbedPaneDadosEndereco.addTab("Dados Pessoais", jPanel1);

        jPanelTipoLog.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jPanelTipoLog.setMaximumSize(new java.awt.Dimension(730, 380));
        jPanelTipoLog.setMinimumSize(new java.awt.Dimension(730, 380));
        jPanelTipoLog.setPreferredSize(new java.awt.Dimension(730, 380));
        jPanelTipoLog.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabelLogradouro.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelLogradouro.setText("Logradouro:");
        jPanelTipoLog.add(jLabelLogradouro, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 50, -1, -1));

        jLabelNúmero.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelNúmero.setText("Nº:");
        jPanelTipoLog.add(jLabelNúmero, new org.netbeans.lib.awtextra.AbsoluteConstraints(360, 50, -1, -1));

        jLabelBairro.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelBairro.setText("Bairro:");
        jPanelTipoLog.add(jLabelBairro, new org.netbeans.lib.awtextra.AbsoluteConstraints(290, 130, -1, -1));

        jLabelMunicipio.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelMunicipio.setText("Município:");
        jPanelTipoLog.add(jLabelMunicipio, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 170, -1, -1));

        jLabelUF.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelUF.setText("UF:");
        jPanelTipoLog.add(jLabelUF, new org.netbeans.lib.awtextra.AbsoluteConstraints(340, 170, -1, -1));

        tfLogradouro.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jPanelTipoLog.add(tfLogradouro, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 50, 240, 25));

        tfBairro.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jPanelTipoLog.add(tfBairro, new org.netbeans.lib.awtextra.AbsoluteConstraints(350, 130, 180, 25));

        jSeparator1.setBackground(new java.awt.Color(204, 204, 204));
        jSeparator1.setForeground(new java.awt.Color(153, 153, 153));
        jSeparator1.setMaximumSize(new java.awt.Dimension(740, 1));
        jSeparator1.setMinimumSize(new java.awt.Dimension(740, 1));
        jSeparator1.setPreferredSize(new java.awt.Dimension(740, 1));
        jPanelTipoLog.add(jSeparator1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 211, 730, 10));

        jLabelResidencial.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelResidencial.setText("Residencial:");
        jPanelTipoLog.add(jLabelResidencial, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 240, -1, -1));

        jLabelCelular.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelCelular.setText("Celular:");
        jPanelTipoLog.add(jLabelCelular, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 240, -1, -1));

        jLabelEmail.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelEmail.setText("E-mail:");
        jPanelTipoLog.add(jLabelEmail, new org.netbeans.lib.awtextra.AbsoluteConstraints(60, 270, -1, -1));

        try {
            ftfNunResidencial.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("(##)####-####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfNunResidencial.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jPanelTipoLog.add(ftfNunResidencial, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 240, 140, -1));

        try {
            ftfNumCelular.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("(##)####-####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfNumCelular.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jPanelTipoLog.add(ftfNumCelular, new org.netbeans.lib.awtextra.AbsoluteConstraints(350, 240, 130, -1));

        tfEmail.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        tfEmail.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfEmailFocusLost(evt);
            }
        });
        jPanelTipoLog.add(tfEmail, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 270, 460, -1));

        tfNumero.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jPanelTipoLog.add(tfNumero, new org.netbeans.lib.awtextra.AbsoluteConstraints(390, 50, 80, 25));

        jLabelTipoLogra.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelTipoLogra.setText("Tipo Logradouro:");
        jPanelTipoLog.add(jLabelTipoLogra, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 20, -1, -1));

        cbLogradouro.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "AVENIDA - AV", "RUA - R", " " }));
        cbLogradouro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbLogradouroActionPerformed(evt);
            }
        });
        jPanelTipoLog.add(cbLogradouro, new org.netbeans.lib.awtextra.AbsoluteConstraints(130, 20, 220, 25));

        jLabelIconContato.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelIconContato.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/Apple-iPhone-icon.png"))); // NOI18N
        jPanelTipoLog.add(jLabelIconContato, new org.netbeans.lib.awtextra.AbsoluteConstraints(584, 4, 140, 160));

        jButtonSearchUF.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jButtonSearchUF.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/Add.png"))); // NOI18N
        jButtonSearchUF.setToolTipText("Pesquisar");
        jButtonSearchUF.setBorder(null);
        jButtonSearchUF.setMaximumSize(new java.awt.Dimension(57, 33));
        jButtonSearchUF.setMinimumSize(new java.awt.Dimension(57, 33));
        jButtonSearchUF.setPreferredSize(new java.awt.Dimension(57, 33));
        jButtonSearchUF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSearchUFActionPerformed(evt);
            }
        });
        jPanelTipoLog.add(jButtonSearchUF, new org.netbeans.lib.awtextra.AbsoluteConstraints(490, 170, 25, 25));

        jLabelcomp.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelcomp.setText("Complemento:");
        jPanelTipoLog.add(jLabelcomp, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 100, -1, -1));

        tfComplemento.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        tfComplemento.setPreferredSize(new java.awt.Dimension(6, 25));
        jPanelTipoLog.add(tfComplemento, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 90, 360, 25));

        jLabelCep.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabelCep.setText("CEP:");
        jPanelTipoLog.add(jLabelCep, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 130, -1, -1));

        try {
            ftfCep.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("#####-###")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfCep.setHorizontalAlignment(javax.swing.JTextField.LEFT);
        jPanelTipoLog.add(ftfCep, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 130, 140, 25));

        cbMunicipio.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        cbMunicipio.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Abatiá", "Adrianópolis", "Agudos do Sul", "Almirante Tamandaré", "Altamira do Paraná", "Alto Paraíso", "Alto Paraná", "Alto Piquiri", "Altônia", "Alvorada do Sul", "Amaporã", "Ampére", "Anahy", "Andirá", "Ângulo", "Antonina", "Antônio Olinto", "Apucarana", "Arapongas", "Arapoti", "Arapuã", "Araruna", "Araucária", "Ariranha do Ivaí", "Assaí", "Assis Chateaubriand", "Astorga", "Atalaia", "Balsa Nova", "Bandeirantes", "Barbosa Ferraz", "Barra do Jacaré", "Barracão", "Bela Vista da Caroba", "Bela Vista do Paraíso", "Bituruna", "Boa Esperança", "Boa Esperança do Iguaçu", "Boa Ventura de São Roque", "Boa Vista da Aparecida", "Bocaiuva do Sul", "Bom Jesus do Sul", "Bom Sucesso", "Bom Sucesso do Sul", "Borrazópolis", "Braganey", "Brasilândia do Sul", "Cafeara", "Cafelândia", "Cafezal do Sul", "Califórnia", "Cambará", "Cambé", "Cambira", "Campina da Lagoa", "Campina do Simão", "Campina Grande do Sul", "Campo Bonito", "Campo do Tenente", "Campo Largo", "Campo Magro", "Campo Mourão", "Cândido de Abreu", "Candói", "Cantagalo", "Capanema", "Capitão Leônidas Marques", "Carambeí", "Carlópolis", "Cascavel", "Castro", "Catanduvas", "Centenário do Sul", "Cerro Azul", "Céu Azul", "Chopinzinho", "Cianorte", "Cidade Gaúcha", "Clevelândia", "Colombo", "Colorado", "Congonhinhas", "Conselheiro Mairinck", "Contenda", "Corbélia", "Cornélio Procópio", "Coronel Domingos Soares", "Coronel Vivida", "Corumbataí do Sul", "Cruz Machado", "Cruzeiro do Iguaçu", "Cruzeiro do Oeste", "Cruzeiro do Sul", "Cruzmaltina", "Curitiba", "Curiúva", "Diamante do Norte", "Diamante do Sul", "Diamante d'Oeste", "Dois Vizinhos", "Douradina", "Doutor Camargo", "Doutor Ulysses", "Enéas Marques", "Engenheiro Beltrão", "Entre Rios do Oeste", "Esperança Nova", "Espigão Alto do Iguaçu", "Farol", "Faxinal", "Fazenda Rio Grande", "Fênix", "Fernandes Pinheiro", "Figueira", "Flor da Serra do Sul", "Floraí", "Floresta", "Florestópolis", "Flórida", "Formosa do Oeste", "Foz do Iguaçu", "Foz do Jordão", "Francisco Alves", "Francisco Beltrão", "General Carneiro", "Godoy Moreira", "Goioerê", "Goioxim", "Grandes Rios", "Guaíra", "Guairaçá", "Guamiranga", "Guapirama", "Guaporema", "Guaraci", "Guaraniaçu", "Guarapuava", "Guaraqueçaba", "Guaratuba", "Honório Serpa", "Ibaiti", "Ibema", "Ibiporã", "Icaraíma", "Iguaraçu", "Iguatu", "Imbaú", "Imbituva", "Inácio Martins", "Inajá", "Indianópolis", "Ipiranga", "Iporã", "Iracema do Oeste", "Irati", "Iretama", "Itaguajé", "Itaipulândia", "Itambaracá", "Itambé", "Itapejara d'Oeste", "Itaperuçu", "Itaúna do Sul", "Ivaí", "Ivaiporã", "Ivaté", "Ivatuba", "Jaboti", "Jacarezinho", "Jaguapitã", "Jaguariaíva", "Jandaia do Sul", "Janiópolis", "Japira", "Japurá", "Jardim Alegre", "Jardim Olinda", "Jataizinho", "Jesuítas", "Joaquim Távora", "Jundiaí do Sul", "Juranda", "Jussara", "Kaloré", "Lapa", "Laranjal", "Laranjeiras do Sul", "Leópolis", "Lidianópolis", "Lindoeste", "Loanda", "Lobato", "Londrina", "Luiziana", "Lunardelli", "Lupionópolis", "Mallet", "Mamborê", "Mandaguaçu", "Mandaguari", "Mandirituba", "Manfrinópolis", "Mangueirinha", "Manoel Ribas", "Marechal Cândido Rondon", "Maria Helena", "Marialva", "Marilândia do Sul", "Marilena", "Mariluz", "Maringá", "Mariópolis", "Maripá", "Marmeleiro", "Marquinho", "Marumbi", "Matelândia", "Matinhos", "Mato Rico", "Mauá da Serra", "Medianeira", "Mercedes", "Mirador", "Miraselva", "Missal", "Moreira Sales", "Morretes", "Munhoz de Melo", "Nossa Senhora das Graças", "Nova Aliança do Ivaí", "Nova América da Colina", "Nova Aurora", "Nova Cantu", "Nova Esperança", "Nova Esperança do Sudoeste", "Nova Fátima", "Nova Laranjeiras", "Nova Londrina", "Nova Olímpia", "Nova Prata do Iguaçu", "Nova Santa Bárbara", "Nova Santa Rosa", "Nova Tebas", "Novo Itacolomi", "Ortigueira", "Ourizona", "Ouro Verde do Oeste", "Paiçandu", "Palmas", "Palmeira", "Palmital", "Palotina", "Paraíso do Norte", "Paranacity", "Paranaguá", "Paranapoema", "Paranavaí", "Pato Bragado", "Pato Branco", "Paula Freitas", "Paulo Frontin", "Peabiru", "Perobal", "Pérola", "Pérola d'Oeste", "Piên", "Pinhais", "Pinhal de São Bento", "Pinhalão", "Pinhão", "Piraí do Sul", "Pitanga", "Pitangueiras", "Planaltina do Paraná", "Planalto", "Ponta Grossa", "Pontal do Paraná", "Porecatu", "Porto Amazonas", "Porto Barreiro", "Porto Rico", "Porto Vitória", "Prado Ferreira", "Pranchita", "Presidente Castelo Branco", "Primeiro de Maio", "Prudentópolis", "Prudentópolis", "Quarto Centenário", "Quatiguá", "Quatro Barras", "Quatro Pontes", "Quedas do Iguaçu", "Querência do Norte", "Quinta do Sol", "Quitandinha", "Ramilândia", "Rancho Alegre", "Rancho Alegre d'Oeste", "Realeza", "Rebouças", "Renascença", "Reserva", "Reserva do Iguaçu", "Ribeirão Claro", "Ribeirão do Pinhal", "Rio Azul", "Rio Bom", "Rio Bonito do Iguaçu", "Rio Branco do Ivaí", "Rio Branco do Sul", "Rio Negro", "Rolândia", "Roncador", "Rondon", "Rosário do Ivaí", "Sabáudia", "Salgado Filho", "Salto do Itararé", "Salto do Lontra", "Santa Amélia", "Santa Cecília do Pavão", "Santa Cruz de Monte Castelo", "Santa Fé", "Santa Helena", "Santa Inês", "Santa Isabel do Ivaí", "Santa Izabel do Oeste", "Santa Lúcia", "Santa Maria do Oeste", "Santa Mariana", "Santa Mônica", "Santa Tereza do Oeste", "Santa Terezinha de Itaipu", "Santana do Itararé", "Santo Antônio da Platina", "Santo Antônio do Caiuá", "Santo Antônio do Paraíso", "Santo Antônio do Sudoeste", "Santo Inácio", "São Carlos do Ivaí", "São Jerônimo da Serra", "São João", "São João do Caiuá", "São João do Ivaí", "São João do Triunfo", "São Jorge do Ivaí", "São Jorge do Patrocínio", "São Jorge d'Oeste", "São José da Boa Vista", "São José das Palmeiras", "São José dos Pinhais", "São Manoel do Paraná", "São Mateus do Sul", "São Miguel do Iguaçu", "São Pedro do Iguaçu", "São Pedro do Ivaí", "São Pedro do Paraná", "São Sebastião da Amoreira", "São Tomé", "Sapopema", "Sarandi", "Saudade do Iguaçu", "Sengés", "Serranópolis do Iguaçu", "Sertaneja", "Sertanópolis", "Siqueira Campos", "Sulina", "Tamarana", "Tamboara", "Tapejara", "Tapira", "Teixeira Soares", "Telêmaco Borba", "Terra Boa", "Terra Rica", "Terra Roxa", "Tibagi", "Tijucas do Sul", "Toledo", "Tomazina", "Três Barras do Paraná", "Tunas do Paraná", "Tuneiras do Oeste", "Tupãssi", "Turvo", "Ubiratã", "Umuarama", "União da Vitória", "Uniflor", "Uraí", "Ventania", "Vera Cruz do Oeste", "Verê", "Virmond", "Vitorino", "Wenceslau Braz", "Xambrê" }));
        cbMunicipio.setMinimumSize(new java.awt.Dimension(56, 33));
        cbMunicipio.setPreferredSize(new java.awt.Dimension(56, 33));
        cbMunicipio.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbMunicipioActionPerformed(evt);
            }
        });
        jPanelTipoLog.add(cbMunicipio, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 170, 180, 25));

        jButton1.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/Add.png"))); // NOI18N
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        jPanelTipoLog.add(jButton1, new org.netbeans.lib.awtextra.AbsoluteConstraints(300, 170, 30, 25));

        cbEstado.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Acre ", "Alagoas", "Amapá", "Amazonas", "Bahia", "Ceará", "Distrito Federa", "Espírito Santo", "Goiás ", "Maranhão", "Mato Grosso", "Mato Grosso do Sul", "Minas Gerais", "Pará", "Paraíba", "Paraná", "Pernambuco", "Piauí", "Rio de Janeiro", "Rio Grande do Norte", "Rio Grande do Sul", "Rondônia", "Roraima", "Santa Catarina", "São Paulo", "Sergipe", "Tocantins" }));
        cbEstado.setMinimumSize(new java.awt.Dimension(56, 33));
        cbEstado.setPreferredSize(new java.awt.Dimension(56, 33));
        jPanelTipoLog.add(cbEstado, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 170, 100, 25));

        jTabbedPaneDadosEndereco.addTab("Endereço/Contato", jPanelTipoLog);

        getContentPane().add(jTabbedPaneDadosEndereco, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 92, 740, 340));

        jLabel1CadastroDeCliente.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jLabel1CadastroDeCliente.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1CadastroDeCliente.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/CadCliente.png"))); // NOI18N
        jLabel1CadastroDeCliente.setToolTipText("");
        jLabel1CadastroDeCliente.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        jLabel1CadastroDeCliente.setMaximumSize(new java.awt.Dimension(740, 80));
        jLabel1CadastroDeCliente.setMinimumSize(new java.awt.Dimension(740, 80));
        jLabel1CadastroDeCliente.setPreferredSize(new java.awt.Dimension(740, 70));
        jLabel1CadastroDeCliente.setVerticalTextPosition(javax.swing.SwingConstants.TOP);
        getContentPane().add(jLabel1CadastroDeCliente, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 6, 740, 80));

        jButtonDeletar.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jButtonDeletar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/trash.png"))); // NOI18N
        jButtonDeletar.setToolTipText("Excluir");
        jButtonDeletar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDeletarActionPerformed(evt);
            }
        });
        getContentPane().add(jButtonDeletar, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 440, 65, 41));

        jButtonClear.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        jButtonClear.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/clear02.png"))); // NOI18N
        jButtonClear.setToolTipText("Limpar");
        jButtonClear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonClearActionPerformed(evt);
            }
        });
        getContentPane().add(jButtonClear, new org.netbeans.lib.awtextra.AbsoluteConstraints(300, 440, 65, 41));

        btSalvar.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        btSalvar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/save01.png"))); // NOI18N
        btSalvar.setToolTipText("Salvar");
        btSalvar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btSalvarActionPerformed(evt);
            }
        });
        getContentPane().add(btSalvar, new org.netbeans.lib.awtextra.AbsoluteConstraints(220, 440, 65, 41));

        jButtonClose.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jButtonClose.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/edu/utfpr/cm/tsi/pi/icons/Close.png"))); // NOI18N
        jButtonClose.setToolTipText("Fechar");
        jButtonClose.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCloseActionPerformed(evt);
            }
        });
        getContentPane().add(jButtonClose, new org.netbeans.lib.awtextra.AbsoluteConstraints(460, 440, 65, 41));

        setSize(new java.awt.Dimension(756, 543));
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void ftfDataNascActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ftfDataNascActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ftfDataNascActionPerformed

    private void ftfCpfFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfCpfFocusLost
        if (Util.validacpf(ftfCpf.getText())) {
            ftfCpf.setBackground(Color.green);
        } else {
            ftfCpf.setBackground(Color.red);
            Util.dispayMsg("CPF inválido!");
            ftfCpf.requestFocus();
        }
    }//GEN-LAST:event_ftfCpfFocusLost

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        obter();
    }//GEN-LAST:event_jButton2ActionPerformed

    private void tfEmailFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfEmailFocusLost
        if (Util.validarEmail(tfEmail.getText().trim())) {
            tfEmail.setBackground(Color.green);
        } else {
            tfEmail.setBackground(Color.red);
            Util.dispayMsg("E-mail inválido!");
            tfEmail.requestFocus();
        }
    }//GEN-LAST:event_tfEmailFocusLost

    private void cbLogradouroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbLogradouroActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cbLogradouroActionPerformed

    private void jButtonSearchUFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSearchUFActionPerformed
        Util.abrirJDialogCentralizado(new JDialogCadastrarEstado(null, true));
    }//GEN-LAST:event_jButtonSearchUFActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        Util.abrirJDialogCentralizado(new JDialogPesqMunicipio(null, true));
        popularComboBox();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButtonDeletarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDeletarActionPerformed
        if (Util.imprimirConfirmacao("Desejar Deletar")) {
            remover();
        }
    }//GEN-LAST:event_jButtonDeletarActionPerformed

    private void jButtonClearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonClearActionPerformed
        if (Util.imprimirConfirmacao("Deseja limpar ?")) {
            novo();
        }
    }//GEN-LAST:event_jButtonClearActionPerformed

    private void btSalvarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btSalvarActionPerformed
        if (Util.imprimirConfirmacao("Deseja Salvar")) {
            salvar();
        }
    }//GEN-LAST:event_btSalvarActionPerformed

    private void jButtonCloseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCloseActionPerformed
        if (Util.imprimirConfirmacao("Deseja Sair?")) {
            dispose();
        }
    }//GEN-LAST:event_jButtonCloseActionPerformed

    private void cbMunicipioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbMunicipioActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cbMunicipioActionPerformed
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btSalvar;
    private javax.swing.ButtonGroup buttonGroupSexo;
    private javax.swing.JComboBox cbEstado;
    private javax.swing.JComboBox cbLogradouro;
    private javax.swing.JComboBox cbMunicipio;
    private javax.swing.JFormattedTextField ftfCep;
    private javax.swing.JFormattedTextField ftfCpf;
    private javax.swing.JFormattedTextField ftfDataNasc;
    private javax.swing.JFormattedTextField ftfNumCelular;
    private javax.swing.JFormattedTextField ftfNunResidencial;
    private javax.swing.JFormattedTextField ftfRg;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButtonClear;
    private javax.swing.JButton jButtonClose;
    private javax.swing.JButton jButtonDeletar;
    private javax.swing.JButton jButtonSearchUF;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel1CadastroDeCliente;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabelBairro;
    private javax.swing.JLabel jLabelCPF;
    private javax.swing.JLabel jLabelCadNome;
    private javax.swing.JLabel jLabelCelular;
    private javax.swing.JLabel jLabelCep;
    private javax.swing.JLabel jLabelDataDeNasc;
    private javax.swing.JLabel jLabelEmail;
    private javax.swing.JLabel jLabelIconContato;
    private javax.swing.JLabel jLabelLogradouro;
    private javax.swing.JLabel jLabelMunicipio;
    private javax.swing.JLabel jLabelNúmero;
    private javax.swing.JLabel jLabelRG;
    private javax.swing.JLabel jLabelResidencial;
    private javax.swing.JLabel jLabelTipoLogra;
    private javax.swing.JLabel jLabelUF;
    private javax.swing.JLabel jLabelcomp;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanelTipoLog;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JTabbedPane jTabbedPaneDadosEndereco;
    private javax.swing.JLabel jlCodigo;
    private javax.swing.JRadioButton rbFeminino;
    private javax.swing.JRadioButton rbMasculino;
    private javax.swing.JTextField tfBairro;
    private javax.swing.JTextField tfCodigo;
    private javax.swing.JTextField tfComplemento;
    private javax.swing.JTextField tfEmail;
    private javax.swing.JTextField tfLogradouro;
    private javax.swing.JTextField tfNome;
    private javax.swing.JTextField tfNumero;
    // End of variables declaration//GEN-END:variables

    private void remover() {
        if (!tfCodigo.getText().isEmpty()) {
            int id = Integer.parseInt(tfCodigo.getText().trim());
            try {
                TransactionUtil.beginTransaction();
                DaoCliente dao = new DaoCliente();
                dao.remover(dao.obterPorId(id));
                TransactionUtil.commit();
            } catch (Exception e) {
                TransactionUtil.rollback();
                Util.dispayMsg("erro Inesperado!");
                Logger.getLogger(JDialogCadastrarCliente.class.getName()).log(Level.SEVERE, null, e);//erro
            }
            novo();
        } else {
            JOptionPane.showMessageDialog(rootPane, "Nenhum registro selecionando !");
        }
    }

    private void novo() {
        tfCodigo.setText(null);
        tfNome.setText(null);
        ftfRg.setText(null);
        ftfCpf.setText(null);
        ftfDataNasc.setText(null);
        tfLogradouro.setText(null);
        tfNumero.setText(null);
        tfComplemento.setText(null);
        ftfCep.setText(null);
        tfBairro.setText(null);
        ftfNunResidencial.setText(null);
        ftfNumCelular.setText(null);
        tfEmail.setText(null);
        cbEstado.setSelectedIndex(-1);
        cbLogradouro.setSelectedIndex(-1);
        cbMunicipio.setSelectedIndex(-1);
    }

    private void salvar() {
        if (verificarCampos()) {
            Cliente cliente = new Cliente();
            if (!tfCodigo.getText().isEmpty()) {  //verifica se o campo Codigo esta vazio
                cliente.setId(Integer.parseInt(tfCodigo.getText()));
            }
            cliente.setNome(tfNome.getText().trim());
            cliente.setDataNasc(Util.stringParaCalendar(ftfDataNasc.getText()));
            try {
                cliente.setRg((ftfRg.getText()));
                cliente.setCpf(ftfCpf.getText());
                cliente.setEmail(tfEmail.getText().trim());
            } catch (Exception e) {
            }
            if (rbFeminino.isSelected()) {
                cliente.setSexo("F");
            } else {
                cliente.setSexo("M");
            }

            Estado uf = new Estado();
            uf.setNome(cbEstado.getSelectedItem().toString());

            Municipio m = new Municipio();
            m.setNome(cbMunicipio.getSelectedItem().toString());
            m.setEstado(uf);



            Endereco e = new Endereco();
            e.setCep(ftfCep.getText());
            e.setMunicipio(m);
            e.setComplemento(tfComplemento.getText().trim());
            e.setLogradouro(tfLogradouro.getText().trim());
            e.setBairro(tfBairro.getText().trim());
            try {
                e.setNumero(Integer.parseInt(tfNumero.getText().trim()));
            } catch (Exception ex) {
                Logger.getLogger(JDialogCadastrarCliente.class.getName()).log(Level.SEVERE, null, ex);//erro
            }
            e.setTipoLogradouro((String) cbLogradouro.getSelectedItem());



            Telefone t1 = new Telefone();
            t1.setNumero(ftfNunResidencial.getText());
            Telefone t2 = new Telefone();
            t2.setNumero(ftfNumCelular.getText());

            List<Telefone> telefones = new ArrayList<Telefone>();
            if ("(  )       -    ".equals(t2.getNumero())) {
                telefones.add(t1);
            } else if ("(  )       -    ".equals(t2.getNumero())) {
                telefones.add(t1);

            } else {
                telefones.add(t1);
                telefones.add(t2);
            }
            cliente.setTelefone(telefones);
            cliente.setEndereco(e);

            TransactionUtil.beginTransaction();
            try {
                new DaoCliente().persistir(cliente);
                TransactionUtil.commit();
            } catch (Exception ex) {
                TransactionUtil.rollback();
                Logger.getLogger(JDialogCadastrarCliente.class.getName()).log(Level.SEVERE, null, ex);//erro
            }

            novo();
        } else {
            JOptionPane.showMessageDialog(rootPane, "Contem campo vazio ou tipo incorreto de dado !");
        }
    }

    private void popularComboBox() {

        List<Municipio> municipios = new DaoMunicipio().listar();
        cbMunicipio.removeAllItems();
        for (Municipio municipio : municipios) {
            cbMunicipio.addItem(municipio);
        }
    }

    protected boolean verificarCampos() {
        if (!tfNome.getText().isEmpty() && !tfBairro.getText().isEmpty()
                && !tfComplemento.getText().isEmpty() && !tfEmail.getText().isEmpty() && !tfLogradouro.getText().isEmpty()
                && tfNumero.getText().isEmpty() && "     -   ".equals(ftfCep.getText())
                && "   .   .   -  ".equals(ftfCpf.getText()) && "  /  /    ".equals(ftfDataNasc.getText())
                && "(  )    -    ".equals(ftfNumCelular.getText()) && "(  )    _    ".equals(ftfNunResidencial.getText()) && "  .   .   - ".equals(ftfRg)) {
            return false;
        }
        return true;

    }

    private void obter() {
        JDialog dialog = new JDialogPesqCliente(null, true);
        Util.abrirJDialogCentralizado(dialog);
        if (Data.hash.get("cliente") == null) {
            return;
        } else {
            if (Data.hash.get("cliente") instanceof Cliente) {
                Cliente cliente = (Cliente) Data.hash.get("cliente");
                Data.hash.remove("cliente");
                if (cliente == null) {
                    return;
                }
                tfCodigo.setText(String.valueOf(cliente.getId()));
                tfBairro.setText(cliente.getEndereco().getBairro());
                tfComplemento.setText(cliente.getEndereco().getComplemento());
                tfLogradouro.setText(cliente.getEndereco().getLogradouro());
                tfNumero.setText(String.valueOf(cliente.getEndereco().getNumero()));
                tfNome.setText(cliente.getNome());
                ftfRg.setText(String.valueOf(cliente.getRg()));
                ftfCpf.setText((cliente.getCpf()));
                ftfDataNasc.setText(Util.calendarParaString(cliente.getDataNasc()));
                ftfCep.setText(cliente.getEndereco().getCep());
                ftfNunResidencial.setText(cliente.getTelefone().get(0).getNumero());
                tfEmail.setText(cliente.getEmail());
                if (cliente.getTelefone().size() > 1) {
                    ftfNumCelular.setText(cliente.getTelefone().get(1).getNumero());
                } else {
                    ftfNumCelular.setText(null);
                }
                cbMunicipio.setSelectedItem(cliente.getEndereco().getMunicipio().getNome());
                cbEstado.setSelectedItem(cliente.getEndereco().getMunicipio().getEstado().getNome());
                cbLogradouro.setSelectedItem(cliente.getEndereco().getTipoLogradouro());
                if ("F".equals(cliente.getSexo())) {
                    rbFeminino.doClick();
                } else {
                    rbMasculino.doClick();
                }
            } else {
                JOptionPane.showMessageDialog(this, "Selecione um Cliente.");
                Data.hash.remove("cliente");//limpra o conteudo do map
            }
        }

    }
}
